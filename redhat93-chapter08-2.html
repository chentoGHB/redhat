<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 8 - Monitor and Manage Linux Processes - College of DuPage</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .instructor-info {
            background: white;
            padding: 1rem;
            margin: 1rem auto;
            max-width: 1200px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section {
            background: white;
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #1e3c72;
            border-bottom: 3px solid #2a5298;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        .section h3 {
            color: #2a5298;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.3rem;
        }

        .command-box {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            position: relative;
        }

        .command-box .command {
            color: #d73502;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .command-box .description {
            color: #666;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin-top: 0.5rem;
        }

        .example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }

        .example .prompt {
            color: #68d391;
        }

        .example .output {
            color: #e2e8f0;
            margin-left: 0;
        }

        .practice-questions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .practice-questions h3 {
            color: #856404;
            margin-bottom: 1rem;
        }

        .highlight {
            background: #fff3cd;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-weight: bold;
        }

        .question-container {
            margin: 1rem 0;
        }

        .question-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .answer-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-size: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            transition: border-color 0.3s;
        }

        .answer-input:focus {
            outline: none;
            border-color: #2a5298;
        }

        .check-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-right: 1rem;
            transition: background-color 0.3s;
        }

        .check-btn:hover {
            background: #218838;
        }

        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 5px;
            font-weight: bold;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        .show-answer-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .show-answer-btn:hover {
            background: #5a6268;
        }

        .correct-answer {
            background: #e3f2fd;
            color: #1565c0;
            padding: 0.8rem;
            border-radius: 5px;
            margin-top: 0.5rem;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #2196f3;
        }

        .score-section {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .score-section h3 {
            color: #2e7d32;
            margin-bottom: 1rem;
        }

        #scoreDisplay {
            font-size: 1.2rem;
            margin: 1rem 0;
        }

        #scoreDisplay span {
            font-weight: bold;
            color: #2e7d32;
        }

        .reset-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 1rem;
        }

        .reset-btn:hover {
            background: #c82333;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .info-box {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .info-box h4 {
            color: #0056b3;
            margin-bottom: 0.5rem;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning-box h4 {
            color: #856404;
            margin-bottom: 0.5rem;
        }

        .process-states {
            background: #f0f8ff;
            border: 1px solid #b3d9ff;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .state-item {
            display: inline-block;
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 3px;
            padding: 0.3rem 0.6rem;
            margin: 0.2rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .reset-note {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            color: #721c24;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">College of DuPage</div>
        <h1>Linux Commands Review</h1>
        <div class="subtitle">Chapter 8. Monitor and Manage Linux Processes</div>
        <div class="subtitle">CIT Department - Computer Information Technology</div>
    </div>

    <div class="instructor-info">
        <h3>Instructor: Tony Chen</h3>
        <p>CIT Department | College of DuPage | cod.edu</p>
    </div>

    <div class="container">
        <section class="section">
            <h2>Understanding Linux Processes</h2>
            
            <h3>Definition of a Process</h3>
            <p>A process is a running instance of a program in memory. Each process has:</p>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li><strong>Process ID (PID):</strong> Unique identifier for the process</li>
                <li><strong>Parent Process ID (PPID):</strong> ID of the process that started it</li>
                <li><strong>Owner:</strong> User who owns the process</li>
                <li><strong>Memory space:</strong> RAM allocated to the process</li>
                <li><strong>CPU time:</strong> Processor time used by the process</li>
                <li><strong>Priority:</strong> Scheduling priority level</li>
            </ul>

            <div class="info-box">
                <h4>Process Hierarchy</h4>
                <p><strong>init (PID 1):</strong> First process started by kernel<br>
                <strong>Parent Process:</strong> Process that creates child processes<br>
                <strong>Child Process:</strong> Process created by another process<br>
                <strong>Orphan Process:</strong> Child whose parent has terminated<br>
                <strong>Zombie Process:</strong> Dead process waiting for cleanup</p>
            </div>

            <h3>Process States</h3>
            <p>Linux processes can be in several states during their lifecycle:</p>
            
            <div class="process-states">
                <div class="state-item">R - Running</div>
                <div class="state-item">S - Sleeping</div>
                <div class="state-item">D - Uninterruptible Sleep</div>
                <div class="state-item">T - Stopped</div>
                <div class="state-item">Z - Zombie</div>
                <div class="state-item">X - Dead</div>
            </div>

            <div class="info-box">
                <h4>Process State Details</h4>
                <p><strong>Running (R):</strong> Currently executing or ready to run<br>
                <strong>Sleeping (S):</strong> Waiting for an event (interruptible)<br>
                <strong>Uninterruptible Sleep (D):</strong> Waiting for I/O operations<br>
                <strong>Stopped (T):</strong> Suspended by signal (Ctrl+Z)<br>
                <strong>Zombie (Z):</strong> Terminated but not cleaned up by parent<br>
                <strong>Dead (X):</strong> Process being destroyed</p>
            </div>
        </section>

        <section class="section">
            <h2>Monitoring Processes</h2>
            
            <h3>The top Command</h3>
            <div class="command-box">
                <div class="command">top</div>
                <div class="description">Display real-time process information</div>
            </div>
            <div class="example">
                <div class="prompt">$ top</div>
                <div class="output">top - 10:30:15 up 2 days,  4:23,  2 users,  load average: 0.15, 0.25, 0.30<br>
Tasks: 182 total,   1 running, 181 sleeping,   0 stopped,   0 zombie<br>
%Cpu(s):  2.3 us,  1.1 sy,  0.0 ni, 96.5 id,  0.1 wa,  0.0 hi,  0.0 si,  0.0 st<br>
KiB Mem :  2048000 total,   256000 free,   512000 used,  1280000 buff/cache<br>
KiB Swap:  1024000 total,  1024000 free,        0 used.  1536000 avail Mem<br>
<br>
  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND<br>
 1234 root      20   0  162000  12000   8000 S   1.3  0.6   0:05.67 systemd<br>
 5678 student   20   0  524000  64000  32000 S   0.7  3.1   0:12.34 firefox</div>
            </div>

            <div class="command-box">
                <div class="command">top -u username</div>
                <div class="description">Show processes for specific user</div>
            </div>
            <div class="example">
                <div class="prompt">$ top -u student</div>
                <div class="output">[Shows only processes owned by student user]</div>
            </div>

            <div class="command-box">
                <div class="command">htop</div>
                <div class="description">Enhanced version of top with better interface</div>
            </div>
            <div class="example">
                <div class="prompt">$ htop</div>
                <div class="output">[Opens colorful, interactive process viewer]</div>
            </div>

            <h3>The ps Command</h3>
            <div class="command-box">
                <div class="command">ps</div>
                <div class="description">Display current user's processes</div>
            </div>
            <div class="example">
                <div class="prompt">$ ps</div>
                <div class="output">  PID TTY          TIME CMD<br>
 2345 pts/0    00:00:01 bash<br>
 3456 pts/0    00:00:00 ps</div>
            </div>

            <div class="command-box">
                <div class="command">ps aux</div>
                <div class="description">Display all processes with detailed information</div>
            </div>
            <div class="example">
                <div class="prompt">$ ps aux</div>
                <div class="output">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND<br>
root         1  0.1  0.2 128000  4000 ?        Ss   Jul09   0:01 /sbin/init<br>
root       123  0.0  0.1  64000  2000 ?        S    Jul09   0:00 /usr/bin/systemd<br>
student   2345  0.0  0.3 116000  6000 pts/0    Ss   10:25   0:00 -bash<br>
student   3456  0.0  0.1  32000  2000 pts/0    R+   10:30   0:00 ps aux</div>
            </div>

            <div class="command-box">
                <div class="command">ps -ef</div>
                <div class="description">Display all processes with parent-child relationships</div>
            </div>
            <div class="example">
                <div class="prompt">$ ps -ef</div>
                <div class="output">UID        PID  PPID  C STIME TTY          TIME CMD<br>
root         1     0  0 Jul09 ?        00:00:01 /sbin/init<br>
root       123     1  0 Jul09 ?        00:00:00 /usr/bin/systemd --user<br>
student   2345  2344  0 10:25 pts/0    00:00:00 -bash<br>
student   3456  2345  0 10:30 pts/0    00:00:00 ps -ef</div>
            </div>

            <div class="command-box">
                <div class="command">ps -u username</div>
                <div class="description">Display processes for specific user</div>
            </div>
            <div class="example">
                <div class="prompt">$ ps -u student</div>
                <div class="output">  PID TTY          TIME CMD<br>
 2345 pts/0    00:00:01 bash<br>
 4567 pts/1    00:00:05 vim<br>
 5678 ?        00:01:23 firefox</div>
            </div>
        </section>

        <section class="section">
            <h2>Jobs and Sessions</h2>
            
            <h3>Describe Jobs and Sessions</h3>
            <p>Understanding the relationship between jobs, sessions, and processes:</p>
            
            <div class="info-box">
                <h4>Job Control Concepts</h4>
                <p><strong>Job:</strong> A command or pipeline started from the shell<br>
                <strong>Session:</strong> Collection of process groups associated with a terminal<br>
                <strong>Foreground Job:</strong> Job that controls the terminal input<br>
                <strong>Background Job:</strong> Job running without terminal control<br>
                <strong>Job Number:</strong> Shell-assigned identifier for jobs</p>
            </div>

            <div class="command-box">
                <div class="command">jobs</div>
                <div class="description">Display active jobs in current session</div>
            </div>
            <div class="example">
                <div class="prompt">$ jobs</div>
                <div class="output">[1]-  Running                 sleep 300 &<br>
[2]+  Stopped                 vim document.txt</div>
            </div>

            <div class="command-box">
                <div class="command">jobs -l</div>
                <div class="description">Display jobs with process IDs</div>
            </div>
            <div class="example">
                <div class="prompt">$ jobs -l</div>
                <div class="output">[1]-  1234 Running                 sleep 300 &<br>
[2]+  5678 Stopped                 vim document.txt</div>
            </div>

            <h3>Run Jobs in the Background</h3>
            <div class="command-box">
                <div class="command">command &</div>
                <div class="description">Start command in background</div>
            </div>
            <div class="example">
                <div class="prompt">$ sleep 600 &</div>
                <div class="output">[1] 1234<br>
[student@server ~]$</div>
            </div>

            <div class="command-box">
                <div class="command">nohup command &</div>
                <div class="description">Run command immune to hangups</div>
            </div>
            <div class="example">
                <div class="prompt">$ nohup long-running-script.sh &</div>
                <div class="output">[1] 5678<br>
nohup: ignoring input and appending output to 'nohup.out'</div>
            </div>

            <h3>Send Foreground Process to Background</h3>
            <div class="command-box">
                <div class="command">Ctrl+Z</div>
                <div class="description">Suspend foreground process</div>
            </div>
            <div class="example">
                <div class="prompt">$ vim largefile.txt</div>
                <div class="output">[Ctrl+Z pressed]<br>
[1]+  Stopped                 vim largefile.txt</div>
            </div>

            <h3>bg Command</h3>
            <div class="command-box">
                <div class="command">bg</div>
                <div class="description">Resume most recent suspended job in background</div>
            </div>
            <div class="example">
                <div class="prompt">$ bg</div>
                <div class="output">[1]+ vim largefile.txt &</div>
            </div>

            <div class="command-box">
                <div class="command">bg %jobnumber</div>
                <div class="description">Resume specific job in background</div>
            </div>
            <div class="example">
                <div class="prompt">$ bg %2</div>
                <div class="output">[2]+ sleep 300 &</div>
            </div>

            <div class="command-box">
                <div class="command">fg</div>
                <div class="description">Bring most recent background job to foreground</div>
            </div>
            <div class="example">
                <div class="prompt">$ fg</div>
                <div class="output">vim largefile.txt<br>
[Returns to vim editor]</div>
            </div>

            <div class="command-box">
                <div class="command">fg %jobnumber</div>
                <div class="description">Bring specific job to foreground</div>
            </div>
            <div class="example">
                <div class="prompt">$ fg %1</div>
                <div class="output">sleep 300<br>
[Brings job 1 to foreground]</div>
            </div>
        </section>

        <section class="section">
            <h2>Process Control with Signals</h2>
            
            <h3>Understanding Signals</h3>
            <p>Signals are software interrupts used to communicate with processes:</p>
            
            <div class="info-box">
                <h4>Common Signals</h4>
                <p><strong>SIGTERM (15):</strong> Graceful termination request<br>
                <strong>SIGKILL (9):</strong> Immediate termination (cannot be caught)<br>
                <strong>SIGINT (2):</strong> Interrupt (Ctrl+C)<br>
                <strong>SIGSTOP (19):</strong> Stop process (cannot be caught)<br>
                <strong>SIGCONT (18):</strong> Continue stopped process<br>
                <strong>SIGHUP (1):</strong> Hangup (terminal disconnect)</p>
            </div>

            <h3>kill Command</h3>
            <div class="command-box">
                <div class="command">kill PID</div>
                <div class="description">Send SIGTERM to process (graceful termination)</div>
            </div>
            <div class="example">
                <div class="prompt">$ kill 1234</div>
                <div class="prompt">$ ps aux | grep 1234</div>
                <div class="output">[Process 1234 terminated gracefully]</div>
            </div>

            <div class="command-box">
                <div class="command">kill -9 PID</div>
                <div class="description">Send SIGKILL to process (force termination)</div>
            </div>
            <div class="example">
                <div class="prompt">$ kill -9 5678</div>
                <div class="prompt">$ ps aux | grep 5678</div>
                <div class="output">[Process 5678 forcefully terminated]</div>
            </div>

            <div class="command-box">
                <div class="command">kill -SIGSTOP PID</div>
                <div class="description">Stop (suspend) process</div>
            </div>
            <div class="example">
                <div class="prompt">$ kill -SIGSTOP 2345</div>
                <div class="prompt">$ ps aux | grep 2345</div>
                <div class="output">student   2345  0.0  0.1  32000  2000 pts/0    T    10:30   0:00 sleep 300</div>
            </div>

            <div class="command-box">
                <div class="command">kill -SIGCONT PID</div>
                <div class="description">Continue stopped process</div>
            </div>
            <div class="example">
                <div class="prompt">$ kill -SIGCONT 2345</div>
                <div class="prompt">$ ps aux | grep 2345</div>
                <div class="output">student   2345  0.0  0.1  32000  2000 pts/0    S    10:30   0:00 sleep 300</div>
            </div>

            <div class="command-box">
                <div class="command">kill -l</div>
                <div class="description">List all available signals</div>
            </div>
            <div class="example">
                <div class="prompt">$ kill -l</div>
                <div class="output"> 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL<br>
 5) SIGTRAP      6) SIGABRT      7) SIGBUS       8) SIGFPE<br>
 9) SIGKILL     10) SIGUSR1     11) SIGSEGV     12) SIGUSR2<br>
13) SIGPIPE     14) SIGALRM     15) SIGTERM     16) SIGSTKFLT</div>
            </div>

            <h3>pkill Command</h3>
            <div class="command-box">
                <div class="command">pkill processname</div>
                <div class="description">Kill processes by name</div>
            </div>
            <div class="example">
                <div class="prompt">$ pkill firefox</div>
                <div class="prompt">$ ps aux | grep firefox</div>
                <div class="output">[All firefox processes terminated]</div>
            </div>

            <div class="command-box">
                <div class="command">pkill -u username</div>
                <div class="description">Kill all processes owned by user</div>
            </div>
            <div class="example">
                <div class="prompt"># pkill -u tempuser</div>
                <div class="output">[All processes owned by tempuser terminated]</div>
            </div>

            <div class="command-box">
                <div class="command">pkill -f pattern</div>
                <div class="description">Kill processes matching command line pattern</div>
            </div>
            <div class="example">
                <div class="prompt">$ pkill -f "python script.py"</div>
                <div class="output">[Terminates processes running python script.py]</div>
            </div>

            <div class="command-box">
                <div class="command">pgrep processname</div>
                <div class="description">Find process IDs by name</div>
            </div>
            <div class="example">
                <div class="prompt">$ pgrep firefox</div>
                <div class="output">1234<br>
5678<br>
9012</div>
            </div>

            <h3>Terminate Background Jobs</h3>
            <div class="command-box">
                <div class="command">kill %jobnumber</div>
                <div class="description">Kill job by job number</div>
            </div>
            <div class="example">
                <div class="prompt">$ jobs</div>
                <div class="output">[1]-  Running                 sleep 300 &<br>
[2]+  Running                 find / -name "*.log" &</div>
                <div class="prompt">$ kill %1</div>
                <div class="output">[1]-  Terminated              sleep 300</div>
            </div>

            <div class="command-box">
                <div class="command">disown %jobnumber</div>
                <div class="description">Remove job from shell's job table</div>
            </div>
            <div class="example">
                <div class="prompt">$ disown %2</div>
                <div class="prompt">$ jobs</div>
                <div class="output">[No output - job 2 removed from job table]</div>
            </div>
        </section>

        <section class="section">
            <h2>Administrative Process Management</h2>
            
            <h3>Administratively Log Out Users</h3>
            <div class="command-box">
                <div class="command">who</div>
                <div class="description">Show who is logged on</div>
            </div>
            <div class="example">
                <div class="prompt">$ who</div>
                <div class="output">student  pts/0        2025-07-11 10:25 (192.168.1.100)<br>
admin    pts/1        2025-07-11 09:15 (192.168.1.101)<br>
guest    pts/2        2025-07-11 11:00 (192.168.1.102)</div>
            </div>

            <div class="command-box">
                <div class="command">w</div>
                <div class="description">Show who is logged on and what they're doing</div>
            </div>
            <div class="example">
                <div class="prompt">$ w</div>
            <div class="example">
                <div class="prompt">$ w</div>
                <div class="output"> 10:30:15 up 2 days,  4:23,  3 users,  load average: 0.15, 0.25, 0.30<br>
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT<br>
student  pts/0    192.168.1.100    10:25    2:00   0.02s  0.01s -bash<br>
admin    pts/1    192.168.1.101    09:15    0.00s  0.15s  0.03s w<br>
guest    pts/2    192.168.1.102    11:00   30:00   0.01s  0.01s vim</div>
            </div>

            <div class="command-box">
                <div class="command">pkill -KILL -u username</div>
                <div class="description">Forcefully terminate all processes for a user</div>
            </div>
            <div class="example">
                <div class="prompt"># pkill -KILL -u guest</div>
                <div class="prompt"># who</div>
                <div class="output">student  pts/0        2025-07-11 10:25 (192.168.1.100)<br>
admin    pts/1        2025-07-11 09:15 (192.168.1.101)</div>
            </div>

            <div class="command-box">
                <div class="command">pkill -TERM -t ttyname</div>
                <div class="description">Gracefully terminate processes on specific terminal</div>
            </div>
            <div class="example">
                <div class="prompt"># pkill -TERM -t pts/2</div>
                <div class="output">[Terminates all processes on pts/2]</div>
            </div>

            <div class="warning-box">
                <h4>⚠️ Warning</h4>
                <p style="color: #000000;">Be very careful when administratively logging out users. Always use SIGTERM first to allow graceful shutdown before using SIGKILL. Save important work and notify users when possible.</p>
            </div>

            <h3>Load Average Calculation</h3>
            <p>Load average represents system utilization over time periods:</p>
            
            <div class="info-box">
                <h4>Understanding Load Average</h4>
                <p style="color: #000000;"><strong>1-minute average:</strong> Recent system load<br>
                <strong>5-minute average:</strong> Short-term trend<br>
                <strong>15-minute average:</strong> Long-term trend<br>
                <strong>Values meaning:</strong><br>
                • 0.00 = No load (system idle)<br>
                • 1.00 = Full utilization (single CPU core)<br>
                • >1.00 = System overloaded<br>
                • For multi-core: multiply by number of cores</p>
            </div>

            <div class="command-box">
                <div class="command">uptime</div>
                <div class="description">Display system uptime and load averages</div>
            </div>
            <div class="example">
                <div class="prompt">$ uptime</div>
                <div class="output"> 10:30:15 up 2 days,  4:23,  3 users,  load average: 0.15, 0.25, 0.30</div>
            </div>

            <div class="command-box">
                <div class="command">cat /proc/loadavg</div>
                <div class="description">Display raw load average data</div>
            </div>
            <div class="example">
                <div class="prompt">$ cat /proc/loadavg</div>
                <div class="output">0.15 0.25 0.30 2/182 12345</div>
            </div>

            <div class="command-box">
                <div class="command">nproc</div>
                <div class="description">Display number of processing units</div>
            </div>
            <div class="example">
                <div class="prompt">$ nproc</div>
                <div class="output">4</div>
            </div>

            <div class="info-box">
                <h4>Load Average Interpretation (4-core system)</h4>
                <p style="color: #000000;"><strong>0.00 - 1.00:</strong> System has spare capacity<br>
                <strong>1.00 - 2.00:</strong> System is busy but manageable<br>
                <strong>2.00 - 4.00:</strong> System is heavily loaded<br>
                <strong>>4.00:</strong> System is overloaded (processes waiting)</p>
            </div>
        </section>

        <section class="section">
            <h2>Practice Questions</h2>
            
            <div class="reset-note">
                <strong>Note:</strong> If "Reset All Answers" doesn't work, please refresh and reload the page.
            </div>
            
            <div class="practice-questions">
                <h3>Review Questions</h3>
                <div class="question-container">
                    <div class="question-item">
                        <p><strong>1.</strong> What command displays real-time process information?</p>
                        <input type="text" id="q1" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(1, 'top')" class="check-btn">Check Answer</button>
                        <div id="feedback1" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>2.</strong> What signal number represents SIGKILL?</p>
                        <input type="text" id="q2" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(2, '9')" class="check-btn">Check Answer</button>
                        <div id="feedback2" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>3.</strong> What command shows active jobs in the current session?</p>
                        <input type="text" id="q3" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(3, 'jobs')" class="check-btn">Check Answer</button>
                        <div id="feedback3" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>4.</strong> What key combination suspends a foreground process?</p>
                        <input type="text" id="q4" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(4, 'Ctrl+Z')" class="check-btn">Check Answer</button>
                        <div id="feedback4" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>5.</strong> What command kills processes by name?</p>
                        <input type="text" id="q5" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(5, 'pkill')" class="check-btn">Check Answer</button>
                        <div id="feedback5" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>6.</strong> What command displays all processes with detailed information?</p>
                        <input type="text" id="q6" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(6, 'ps aux')" class="check-btn">Check Answer</button>
                        <div id="feedback6" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>7.</strong> What symbol starts a command in the background?</p>
                        <input type="text" id="q7" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(7, '&')" class="check-btn">Check Answer</button>
                        <div id="feedback7" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>8.</strong> What command brings a background job to the foreground?</p>
                        <input type="text" id="q8" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(8, 'fg')" class="check-btn">Check Answer</button>
                        <div id="feedback8" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>9.</strong> What command shows who is logged on and what they're doing?</p>
                        <input type="text" id="q9" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(9, 'w')" class="check-btn">Check Answer</button>
                        <div id="feedback9" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>10.</strong> What command displays system uptime and load averages?</p>
                        <input type="text" id="q10" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(10, 'uptime')" class="check-btn">Check Answer</button>
                        <div id="feedback10" class="feedback"></div>
                    </div>
                </div>
            </div>

            <div class="practice-questions">
                <h3>Command Practice Scenarios</h3>
                <div class="question-container">
                    <div class="question-item">
                        <p><strong>Scenario 1:</strong> You want to start a long-running backup script in the background. What command syntax do you use?</p>
                        <input type="text" id="s1" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(1, 'backup-script.sh &')" class="check-btn">Check Answer</button>
                        <div id="sfeedback1" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 2:</strong> A process with PID 1234 is not responding. You want to force terminate it. What command do you use?</p>
                        <input type="text" id="s2" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(2, 'kill -9 1234')" class="check-btn">Check Answer</button>
                        <div id="sfeedback2" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 3:</strong> You accidentally suspended vim with Ctrl+Z. How do you resume it in the background?</p>
                        <input type="text" id="s3" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(3, 'bg')" class="check-btn">Check Answer</button>
                        <div id="sfeedback3" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 4:</strong> You need to terminate all Firefox processes at once. What command do you use?</p>
                        <input type="text" id="s4" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(4, 'pkill firefox')" class="check-btn">Check Answer</button>
                        <div id="sfeedback4" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 5:</strong> You want to see all processes owned by user "john". What command do you use?</p>
                        <input type="text" id="s5" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(5, 'ps -u john')" class="check-btn">Check Answer</button>
                        <div id="sfeedback5" class="feedback"></div>
                    </div>
                </div>
            </div>

            <div class="score-section">
                <h3>Your Progress</h3>
                <div id="scoreDisplay">
                    <p>Review Questions: <span id="reviewScore">0/10</span></p>
                    <p>Scenario Questions: <span id="scenarioScore">0/5</span></p>
                    <p>Total Score: <span id="totalScore">0/15</span></p>
                </div>
                <button onclick="resetQuiz()" class="reset-btn">Reset All Answers</button>
            </div>
        </section>
    </div>

    <script>
        // Score tracking
        let reviewCorrect = 0;
        let scenarioCorrect = 0;
        let reviewAttempted = new Set();
        let scenarioAttempted = new Set();

        // Alternative answers for flexible checking
        const alternatives = {
            1: ['top', 'htop'],
            2: ['9'],
            3: ['jobs'],
            4: ['ctrl+z', 'ctrl-z', '^z'],
            5: ['pkill'],
            6: ['ps aux', 'ps -aux'],
            7: ['&'],
            8: ['fg'],
            9: ['w'],
            10: ['uptime']
        };

        const scenarioAlternatives = {
            1: ['backup-script.sh &', 'script.sh &', './backup-script.sh &', 'command &'],
            2: ['kill -9 1234', 'kill -KILL 1234'],
            3: ['bg', 'bg %1'],
            4: ['pkill firefox'],
            5: ['ps -u john', 'ps -U john']
        };

        function normalizeAnswer(answer) {
            return answer.toLowerCase().trim().replace(/\s+/g, ' ');
        }

        function checkAnswer(questionNum, correctAnswer) {
            const userAnswer = document.getElementById(`q${questionNum}`).value;
            const feedbackElement = document.getElementById(`feedback${questionNum}`);
            const normalizedUser = normalizeAnswer(userAnswer);
            const normalizedCorrect = normalizeAnswer(correctAnswer);
            
            // Check if answer matches any alternative
            let isCorrect = normalizedUser === normalizedCorrect;
            if (!isCorrect && alternatives[questionNum]) {
                isCorrect = alternatives[questionNum].some(alt => normalizeAnswer(alt) === normalizedUser);
            }
            
            if (isCorrect) {
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML = '✓ Correct! Well done!';
                if (!reviewAttempted.has(questionNum)) {
                    reviewCorrect++;
                    reviewAttempted.add(questionNum);
                }
            } else {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = `
                    ✗ Incorrect. Try again!
                    <button class="show-answer-btn" onclick="showCorrectAnswer(${questionNum}, '${correctAnswer}')">
                        Show Correct Answer
                    </button>
                `;
                if (!reviewAttempted.has(questionNum)) {
                    reviewAttempted.add(questionNum);
                }
            }
            
            updateScore();
        }

        function checkScenario(scenarioNum, correctAnswer) {
            const userAnswer = document.getElementById(`s${scenarioNum}`).value;
            const feedbackElement = document.getElementById(`sfeedback${scenarioNum}`);
            const normalizedUser = normalizeAnswer(userAnswer);
            const normalizedCorrect = normalizeAnswer(correctAnswer);
            
            // Check if answer matches any alternative
            let isCorrect = normalizedUser === normalizedCorrect;
            if (!isCorrect && scenarioAlternatives[scenarioNum]) {
                isCorrect = scenarioAlternatives[scenarioNum].some(alt => normalizeAnswer(alt) === normalizedUser);
            }
            
            if (isCorrect) {
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML = '✓ Correct! Excellent problem-solving!';
                if (!scenarioAttempted.has(scenarioNum)) {
                    scenarioCorrect++;
                    scenarioAttempted.add(scenarioNum);
                }
            } else {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = `
                    ✗ Incorrect. Think about the scenario again.
                    <button class="show-answer-btn" onclick="showScenarioAnswer(${scenarioNum}, '${correctAnswer}')">
                        Show Correct Answer
                    </button>
                `;
                if (!scenarioAttempted.has(scenarioNum)) {
                    scenarioAttempted.add(scenarioNum);
                }
            }
            
            updateScore();
        }

        function showCorrectAnswer(questionNum, correctAnswer) {
            const feedbackElement = document.getElementById(`feedback${questionNum}`);
            const explanations = {
                1: 'The "top" command displays real-time process information and system statistics.',
                2: 'Signal 9 (SIGKILL) forcefully terminates a process and cannot be caught or ignored.',
                3: 'The "jobs" command shows active jobs in the current shell session.',
                4: 'Ctrl+Z sends a SIGTSTP signal to suspend the foreground process.',
                5: 'The "pkill" command terminates processes by name or other criteria.',
                6: 'The "ps aux" command shows all processes with detailed information.',
                7: 'The "&" symbol at the end of a command starts it in the background.',
                8: 'The "fg" command brings a background job to the foreground.',
                9: 'The "w" command shows logged-in users and their current activities.',
                10: 'The "uptime" command displays system uptime and load averages.'
            };
            
            feedbackElement.innerHTML = `
                ✗ Incorrect.
                <div class="correct-answer">
                    <strong>Correct Answer:</strong> ${correctAnswer}<br>
                    <strong>Explanation:</strong> ${explanations[questionNum]}
                </div>
            `;
        }

        function showScenarioAnswer(scenarioNum, correctAnswer) {
            const feedbackElement = document.getElementById(`sfeedback${scenarioNum}`);
            const explanations = {
                1: 'Adding "&" at the end starts the script in the background, allowing the shell to remain usable.',
                2: 'The "-9" option sends SIGKILL to forcefully terminate unresponsive processes.',
                3: 'The "bg" command resumes the most recently suspended job in the background.',
                4: 'The "pkill" command can terminate all processes with matching names.',
                5: 'The "-u" option with ps shows processes owned by a specific user.'
            };
            
            feedbackElement.innerHTML = `
                ✗ Incorrect.
                <div class="correct-answer">
                    <strong>Correct Answer:</strong> ${correctAnswer}<br>
                    <strong>Explanation:</strong> ${explanations[scenarioNum]}
                </div>
            `;
        }

        function updateScore() {
            document.getElementById('reviewScore').textContent = `${reviewCorrect}/10`;
            document.getElementById('scenarioScore').textContent = `${scenarioCorrect}/5`;
            document.getElementById('totalScore').textContent = `${reviewCorrect + scenarioCorrect}/15`;
        }

        function resetQuiz() {
            // Reset scores
            reviewCorrect = 0;
            scenarioCorrect = 0;
            reviewAttempted.clear();
            scenarioAttempted.clear();
            
            // Clear all inputs
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`q${i}`).value = '';
                document.getElementById(`feedback${i}`).className = 'feedback';
                document.getElementById(`feedback${i}`).style.display = 'none';
            }
            
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`s${i}`).value = '';
                document.getElementById(`sfeedback${i}`).className = 'feedback';
                document.getElementById(`sfeedback${i}`).style.display = 'none';
            }
            
            updateScore();
        }

        // Allow Enter key to submit answers
        document.addEventListener('DOMContentLoaded', function() {
            // Review questions
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`q${i}`).addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const correctAnswers = {
                            1: 'top',
                            2: '9',
                            3: 'jobs',
                            4: 'Ctrl+Z',
                            5: 'pkill',
                            6: 'ps aux',
                            7: '&',
                            8: 'fg',
                            9: 'w',
                            10: 'uptime'
                        };
                        checkAnswer(i, correctAnswers[i]);
                    }
                });
            }
            
            // Scenario questions
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`s${i}`).addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const correctAnswers = {
                            1: 'backup-script.sh &',
                            2: 'kill -9 1234',
                            3: 'bg',
                            4: 'pkill firefox',
                            5: 'ps -u john'
                        };
                        checkScenario(i, correctAnswers[i]);
                    }
                });
            }
        });
    </script>
</body>
</html>