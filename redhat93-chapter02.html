<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Commands Review - College of DuPage</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .instructor-info {
            background: white;
            padding: 1rem;
            margin: 1rem auto;
            max-width: 1200px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section {
            background: white;
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #1e3c72;
            border-bottom: 3px solid #2a5298;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        .section h3 {
            color: #2a5298;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.3rem;
        }

        .command-box {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            position: relative;
        }

        .command-box .command {
            color: #d73502;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .command-box .description {
            color: #666;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin-top: 0.5rem;
        }

        .example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }

        .example .prompt {
            color: #68d391;
        }

        .example .output {
            color: #e2e8f0;
            margin-left: 0;
        }

        .practice-questions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .practice-questions h3 {
            color: #856404;
            margin-bottom: 1rem;
        }

        .practice-questions ol {
            padding-left: 1.5rem;
        }

        .practice-questions li {
            margin: 0.5rem 0;
            color: #856404;
        }

        .toggle-btn {
            background: #2a5298;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 1rem;
            font-size: 0.9rem;
        }

        .toggle-btn:hover {
            background: #1e3c72;
        }

        .answer {
            display: none;
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
            color: #155724;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .nav-menu {
            background: #2a5298;
            padding: 1rem 0;
            text-align: center;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            margin: 0 1rem;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .nav-menu a:hover {
            background: #1e3c72;
        }

        .highlight {
            background: #fff3cd;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-weight: bold;
        }

        .question-container {
            margin: 1rem 0;
        }

        .question-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .answer-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-size: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            transition: border-color 0.3s;
        }

        .answer-input:focus {
            outline: none;
            border-color: #2a5298;
        }

        .check-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-right: 1rem;
            transition: background-color 0.3s;
        }

        .check-btn:hover {
            background: #218838;
        }

        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 5px;
            font-weight: bold;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        .show-answer-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .show-answer-btn:hover {
            background: #5a6268;
        }

        .correct-answer {
            background: #e3f2fd;
            color: #1565c0;
            padding: 0.8rem;
            border-radius: 5px;
            margin-top: 0.5rem;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #2196f3;
        }

        .score-section {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .score-section h3 {
            color: #2e7d32;
            margin-bottom: 1rem;
        }

        #scoreDisplay {
            font-size: 1.2rem;
            margin: 1rem 0;
        }

        #scoreDisplay span {
            font-weight: bold;
            color: #2e7d32;
        }

        .reset-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 1rem;
        }

        .reset-btn:hover {
            background: #c82333;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">College of DuPage</div>
        <h1>Linux Commands Review</h1>
        <div class="subtitle">Chapter 2. Access the Command Line</div>
        <div class="subtitle">CIT Department - Computer Information Technology</div>
    </div>

    <div class="instructor-info">
        <h3>Instructor: Tony Chen</h3>
        <p>CIT Department | College of DuPage | cod.edu</p>
    </div>



    <div class="container">
        <section id="login" class="section">
            <h2>Linux System Login and Password Management</h2>
            
            <h3>Logging into Linux</h3>
            <p>Linux systems require authentication before granting access. Users must provide valid credentials to access the system.</p>
            
            <div class="command-box">
                <div class="command">ssh username@hostname</div>
                <div class="description">Secure Shell - remotely connect to a Linux system</div>
            </div>
            <div class="example">
                <div class="prompt">$ ssh student@server.cod.edu</div>
                <div class="output">student@server.cod.edu's password:<br>
Last login: Fri Jul 11 10:30:15 2025 from 192.168.1.100</div>
            </div>

            <h3>Password Management</h3>
            <div class="command-box">
                <div class="command">passwd</div>
                <div class="description">Change your current password</div>
            </div>
            <div class="example">
                <div class="prompt">$ passwd</div>
                <div class="output">Changing password for student.<br>
Current password:<br>
New password:<br>
Retype new password:<br>
passwd: password updated successfully</div>
            </div>

            <div class="command-box">
                <div class="command">sudo passwd username</div>
                <div class="description">Change another user's password (requires admin privileges)</div>
            </div>
            <div class="example">
                <div class="prompt">$ sudo passwd john</div>
                <div class="output">New password:<br>
Retype new password:<br>
passwd: password updated successfully</div>
            </div>
        </section>

        <section id="file-commands" class="section">
            <h2>File and Directory Commands</h2>
            
            <h3>Listing Files and Directories</h3>
            <div class="command-box">
                <div class="command">ls</div>
                <div class="description">List files and directories in the current directory</div>
            </div>
            <div class="example">
                <div class="prompt">$ ls</div>
                <div class="output">Desktop  Documents  Downloads  Music  Pictures  Videos</div>
            </div>

            <div class="command-box">
                <div class="command">ls -l</div>
                <div class="description">List files with detailed information (long format)</div>
            </div>
            <div class="example">
                <div class="prompt">$ ls -l</div>
                <div class="output">total 24<br>
drwxr-xr-x 2 student student 4096 Jul 11 10:30 Desktop<br>
drwxr-xr-x 2 student student 4096 Jul 11 10:30 Documents<br>
drwxr-xr-x 2 student student 4096 Jul 11 10:30 Downloads<br>
-rw-r--r-- 1 student student  220 Jul 11 10:30 .bashrc</div>
            </div>

            <div class="command-box">
                <div class="command">ls -la</div>
                <div class="description">List all files including hidden files (starting with .)</div>
            </div>
            <div class="example">
                <div class="prompt">$ ls -la</div>
                <div class="output">total 32<br>
drwxr-xr-x 5 student student 4096 Jul 11 10:30 .<br>
drwxr-xr-x 3 root    root    4096 Jul 11 10:25 ..<br>
-rw-r--r-- 1 student student  220 Jul 11 10:30 .bashrc<br>
-rw-r--r-- 1 student student  807 Jul 11 10:30 .profile</div>
            </div>

            <div class="command-box">
                <div class="command">ls -lh</div>
                <div class="description">List files with human-readable file sizes</div>
            </div>
            <div class="example">
                <div class="prompt">$ ls -lh</div>
                <div class="output">total 24K<br>
drwxr-xr-x 2 student student 4.0K Jul 11 10:30 Desktop<br>
-rw-r--r-- 1 student student 2.5K Jul 11 10:30 document.txt</div>
            </div>

            <h3>Command History</h3>
            <div class="command-box">
                <div class="command">history</div>
                <div class="description">Display command history</div>
            </div>
            <div class="example">
                <div class="prompt">$ history</div>
                <div class="output">1  ls<br>
2  cd Documents<br>
3  ls -l<br>
4  cat file.txt<br>
5  history</div>
            </div>

            <div class="command-box">
                <div class="command">history 10</div>
                <div class="description">Display last 10 commands</div>
            </div>
            <div class="example">
                <div class="prompt">$ history 10</div>
                <div class="output">496  ls -la<br>
497  cd /home<br>
498  pwd<br>
499  ls<br>
500  history 10</div>
            </div>
        </section>

        <section id="system-files" class="section">
            <h2>System Files and User Management</h2>
            
            <h3>The /etc/passwd File</h3>
            <p>The <span class="highlight">/etc/passwd</span> file contains user account information. Each line represents a user account with seven fields separated by colons.</p>
            
            <div class="command-box">
                <div class="command">cat /etc/passwd</div>
                <div class="description">Display the contents of the passwd file</div>
            </div>
            <div class="example">
                <div class="prompt">$ cat /etc/passwd</div>
                <div class="output">root:x:0:0:root:/root:/bin/bash<br>
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin<br>
bin:x:2:2:bin:/bin:/usr/sbin/nologin<br>
student:x:1001:1001:Student User:/home/student:/bin/bash</div>
            </div>

            <p><strong>Field Structure:</strong> username:password:UID:GID:comment:home_directory:shell</p>

            <div class="command-box">
                <div class="command">grep username /etc/passwd</div>
                <div class="description">Find specific user information</div>
            </div>
            <div class="example">
                <div class="prompt">$ grep student /etc/passwd</div>
                <div class="output">student:x:1001:1001:Student User:/home/student:/bin/bash</div>
            </div>
        </section>

        <section id="text-commands" class="section">
            <h2>Text Processing Commands</h2>
            
            <h3>Viewing File Contents</h3>
            <div class="command-box">
                <div class="command">cat filename</div>
                <div class="description">Display entire file contents</div>
            </div>
            <div class="example">
                <div class="prompt">$ cat sample.txt</div>
                <div class="output">Line 1: Hello World<br>
Line 2: This is a sample file<br>
Line 3: Used for demonstration<br>
Line 4: End of file</div>
            </div>

            <div class="command-box">
                <div class="command">cat -n filename</div>
                <div class="description">Display file contents with line numbers</div>
            </div>
            <div class="example">
                <div class="prompt">$ cat -n sample.txt</div>
                <div class="output">1  Line 1: Hello World<br>
2  Line 2: This is a sample file<br>
3  Line 3: Used for demonstration<br>
4  Line 4: End of file</div>
            </div>

            <h3>Head and Tail Commands</h3>
            <div class="command-box">
                <div class="command">head filename</div>
                <div class="description">Display first 10 lines of a file</div>
            </div>
            <div class="example">
                <div class="prompt">$ head /etc/passwd</div>
                <div class="output">root:x:0:0:root:/root:/bin/bash<br>
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin<br>
bin:x:2:2:bin:/bin:/usr/sbin/nologin<br>
sys:x:3:3:sys:/dev:/usr/sbin/nologin</div>
            </div>

            <div class="command-box">
                <div class="command">head -n 5 filename</div>
                <div class="description">Display first 5 lines of a file</div>
            </div>
            <div class="example">
                <div class="prompt">$ head -n 5 /etc/passwd</div>
                <div class="output">root:x:0:0:root:/root:/bin/bash<br>
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin<br>
bin:x:2:2:bin:/bin:/usr/sbin/nologin</div>
            </div>

            <div class="command-box">
                <div class="command">tail filename</div>
                <div class="description">Display last 10 lines of a file</div>
            </div>
            <div class="example">
                <div class="prompt">$ tail /var/log/syslog</div>
                <div class="output">Jul 11 10:30:01 server systemd: Started Session 1 of user student<br>
Jul 11 10:30:15 server sshd: Accepted password for student</div>
            </div>

            <div class="command-box">
                <div class="command">tail -n 3 filename</div>
                <div class="description">Display last 3 lines of a file</div>
            </div>
            <div class="example">
                <div class="prompt">$ tail -n 3 /etc/passwd</div>
                <div class="output">student:x:1001:1001:Student User:/home/student:/bin/bash<br>
guest:x:1002:1002:Guest User:/home/guest:/bin/bash</div>
            </div>

            <div class="command-box">
                <div class="command">tail -f filename</div>
                <div class="description">Follow file changes in real-time</div>
            </div>
            <div class="example">
                <div class="prompt">$ tail -f /var/log/syslog</div>
                <div class="output">Jul 11 10:30:01 server systemd: Started Session 1 of user student<br>
Jul 11 10:30:15 server sshd: Accepted password for student<br>
[continues to show new entries as they're added]</div>
            </div>

            <h3>Word Count Command</h3>
            <div class="command-box">
                <div class="command">wc filename</div>
                <div class="description">Count lines, words, and characters in a file</div>
            </div>
            <div class="example">
                <div class="prompt">$ wc sample.txt</div>
                <div class="output">4  16  78 sample.txt</div>
            </div>
            <p><em>Output format: lines words characters filename</em></p>

            <div class="command-box">
                <div class="command">wc -l filename</div>
                <div class="description">Count only lines</div>
            </div>
            <div class="example">
                <div class="prompt">$ wc -l /etc/passwd</div>
                <div class="output">25 /etc/passwd</div>
            </div>

            <div class="command-box">
                <div class="command">wc -w filename</div>
                <div class="description">Count only words</div>
            </div>
            <div class="example">
                <div class="prompt">$ wc -w sample.txt</div>
                <div class="output">16 sample.txt</div>
            </div>

            <div class="command-box">
                <div class="command">wc -c filename</div>
                <div class="description">Count only characters</div>
            </div>
            <div class="example">
                <div class="prompt">$ wc -c sample.txt</div>
                <div class="output">78 sample.txt</div>
            </div>
        </section>

        <section id="practice" class="section">
            <h2>Practice Questions</h2>
            
            <div class="practice-questions">
                <h3>Review Questions</h3>
                <div class="question-container">
                    <div class="question-item">
                        <p><strong>1.</strong> What command would you use to change your password in Linux?</p>
                        <input type="text" id="q1" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(1, 'passwd')" class="check-btn">Check Answer</button>
                        <div id="feedback1" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>2.</strong> How do you display all files including hidden files in a directory?</p>
                        <input type="text" id="q2" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(2, 'ls -la')" class="check-btn">Check Answer</button>
                        <div id="feedback2" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>3.</strong> What are the seven fields in the /etc/passwd file? (separate with colons)</p>
                        <input type="text" id="q3" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(3, 'username:password:UID:GID:comment:home_directory:shell')" class="check-btn">Check Answer</button>
                        <div id="feedback3" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>4.</strong> How would you display only the first 5 lines of a file named "data.txt"?</p>
                        <input type="text" id="q4" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(4, 'head -n 5 data.txt')" class="check-btn">Check Answer</button>
                        <div id="feedback4" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>5.</strong> What command shows the last 20 commands you've executed?</p>
                        <input type="text" id="q5" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(5, 'history 20')" class="check-btn">Check Answer</button>
                        <div id="feedback5" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>6.</strong> How do you count the number of lines in the /etc/passwd file?</p>
                        <input type="text" id="q6" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(6, 'wc -l /etc/passwd')" class="check-btn">Check Answer</button>
                        <div id="feedback6" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>7.</strong> How would you search for a specific username in the /etc/passwd file? (use 'username' as placeholder)</p>
                        <input type="text" id="q7" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(7, 'grep username /etc/passwd')" class="check-btn">Check Answer</button>
                        <div id="feedback7" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>8.</strong> What does the "ls -lh" command display?</p>
                        <input type="text" id="q8" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(8, 'detailed file listing with human-readable file sizes')" class="check-btn">Check Answer</button>
                        <div id="feedback8" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>9.</strong> How do you display file contents with line numbers?</p>
                        <input type="text" id="q9" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(9, 'cat -n filename')" class="check-btn">Check Answer</button>
                        <div id="feedback9" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>10.</strong> What command follows file changes in real-time?</p>
                        <input type="text" id="q10" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkAnswer(10, 'tail -f filename')" class="check-btn">Check Answer</button>
                        <div id="feedback10" class="feedback"></div>
                    </div>
                </div>
            </div>

            <div class="practice-questions">
                <h3>Command Practice Scenarios</h3>
                <div class="question-container">
                    <div class="question-item">
                        <p><strong>Scenario 1:</strong> You need to find how many users are in the system. Which command combination would you use?</p>
                        <input type="text" id="s1" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(1, 'wc -l /etc/passwd')" class="check-btn">Check Answer</button>
                        <div id="sfeedback1" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 2:</strong> A log file is constantly being updated. How would you monitor new entries in real-time?</p>
                        <input type="text" id="s2" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(2, 'tail -f /var/log/logfile')" class="check-btn">Check Answer</button>
                        <div id="sfeedback2" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 3:</strong> You want to see the permissions and sizes of all files in your home directory. What command do you use?</p>
                        <input type="text" id="s3" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(3, 'ls -lh ~')" class="check-btn">Check Answer</button>
                        <div id="sfeedback3" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 4:</strong> How would you display the last 15 commands from your command history?</p>
                        <input type="text" id="s4" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(4, 'history 15')" class="check-btn">Check Answer</button>
                        <div id="sfeedback4" class="feedback"></div>
                    </div>

                    <div class="question-item">
                        <p><strong>Scenario 5:</strong> You need to count the total number of words in a document called "essay.txt". What command do you use?</p>
                        <input type="text" id="s5" placeholder="Enter your answer..." class="answer-input">
                        <button onclick="checkScenario(5, 'wc -w essay.txt')" class="check-btn">Check Answer</button>
                        <div id="sfeedback5" class="feedback"></div>
                    </div>
                </div>
            </div>

            <div class="score-section">
                <h3>Your Progress</h3>
                <div id="scoreDisplay">
                    <p>Review Questions: <span id="reviewScore">0/10</span></p>
                    <p>Scenario Questions: <span id="scenarioScore">0/5</span></p>
                    <p>Total Score: <span id="totalScore">0/15</span></p>
                </div>
                <button onclick="resetQuiz()" class="reset-btn">Reset All Answers</button>
            </div>
        </section>
    </div>

    <script>
        // Score tracking
        let reviewCorrect = 0;
        let scenarioCorrect = 0;
        let reviewAttempted = new Set();
        let scenarioAttempted = new Set();

        // Alternative answers for flexible checking
        const alternatives = {
            2: ['ls -la', 'ls -al', 'ls -a -l'],
            3: ['username:password:UID:GID:comment:home_directory:shell', 'username:password:uid:gid:comment:home_directory:shell', 'username:password:UID:GID:description:home_directory:shell'],
            4: ['head -n 5 data.txt', 'head -5 data.txt'],
            6: ['wc -l /etc/passwd', 'wc -l /etc/passwd/'],
            7: ['grep username /etc/passwd', 'grep "username" /etc/passwd'],
            9: ['cat -n filename', 'cat -n file'],
            10: ['tail -f filename', 'tail -f file']
        };

        const scenarioAlternatives = {
            1: ['wc -l /etc/passwd', 'wc -l /etc/passwd/'],
            2: ['tail -f /var/log/logfile', 'tail -f logfile', 'tail -f /path/to/logfile'],
            3: ['ls -lh ~', 'ls -lh /home/username', 'ls -lh', 'ls -lh ~/'],
            4: ['history 15'],
            5: ['wc -w essay.txt']
        };

        function normalizeAnswer(answer) {
            return answer.toLowerCase().trim().replace(/\s+/g, ' ');
        }

        function checkAnswer(questionNum, correctAnswer) {
            const userAnswer = document.getElementById(`q${questionNum}`).value;
            const feedbackElement = document.getElementById(`feedback${questionNum}`);
            const normalizedUser = normalizeAnswer(userAnswer);
            const normalizedCorrect = normalizeAnswer(correctAnswer);
            
            // Check if answer matches any alternative
            let isCorrect = normalizedUser === normalizedCorrect;
            if (!isCorrect && alternatives[questionNum]) {
                isCorrect = alternatives[questionNum].some(alt => normalizeAnswer(alt) === normalizedUser);
            }
            
            if (isCorrect) {
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML = '✓ Correct! Well done!';
                if (!reviewAttempted.has(questionNum)) {
                    reviewCorrect++;
                    reviewAttempted.add(questionNum);
                }
            } else {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = `
                    ✗ Incorrect. Try again!
                    <button class="show-answer-btn" onclick="showCorrectAnswer(${questionNum}, '${correctAnswer}')">
                        Show Correct Answer
                    </button>
                `;
                if (!reviewAttempted.has(questionNum)) {
                    reviewAttempted.add(questionNum);
                }
            }
            
            updateScore();
        }

        function checkScenario(scenarioNum, correctAnswer) {
            const userAnswer = document.getElementById(`s${scenarioNum}`).value;
            const feedbackElement = document.getElementById(`sfeedback${scenarioNum}`);
            const normalizedUser = normalizeAnswer(userAnswer);
            const normalizedCorrect = normalizeAnswer(correctAnswer);
            
            // Check if answer matches any alternative
            let isCorrect = normalizedUser === normalizedCorrect;
            if (!isCorrect && scenarioAlternatives[scenarioNum]) {
                isCorrect = scenarioAlternatives[scenarioNum].some(alt => normalizeAnswer(alt) === normalizedUser);
            }
            
            if (isCorrect) {
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML = '✓ Correct! Excellent problem-solving!';
                if (!scenarioAttempted.has(scenarioNum)) {
                    scenarioCorrect++;
                    scenarioAttempted.add(scenarioNum);
                }
            } else {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = `
                    ✗ Incorrect. Think about the scenario again.
                    <button class="show-answer-btn" onclick="showScenarioAnswer(${scenarioNum}, '${correctAnswer}')">
                        Show Correct Answer
                    </button>
                `;
                if (!scenarioAttempted.has(scenarioNum)) {
                    scenarioAttempted.add(scenarioNum);
                }
            }
            
            updateScore();
        }

        function showCorrectAnswer(questionNum, correctAnswer) {
            const feedbackElement = document.getElementById(`feedback${questionNum}`);
            const explanations = {
                1: 'The "passwd" command allows you to change your password in Linux.',
                2: 'The "ls -la" command lists all files including hidden ones with detailed information.',
                3: 'The /etc/passwd file contains 7 fields separated by colons for each user account.',
                4: 'The "head -n 5" command displays the first 5 lines of a file.',
                5: 'The "history 20" command shows the last 20 commands from your history.',
                6: 'The "wc -l" command counts lines in a file.',
                7: 'The "grep" command searches for patterns in files.',
                8: 'The "-h" flag makes file sizes human-readable (K, M, G).',
                9: 'The "-n" flag with cat adds line numbers to the output.',
                10: 'The "-f" flag with tail follows file changes in real-time.'
            };
            
            feedbackElement.innerHTML = `
                ✗ Incorrect.
                <div class="correct-answer">
                    <strong>Correct Answer:</strong> ${correctAnswer}<br>
                    <strong>Explanation:</strong> ${explanations[questionNum]}
                </div>
            `;
        }

        function showScenarioAnswer(scenarioNum, correctAnswer) {
            const feedbackElement = document.getElementById(`sfeedback${scenarioNum}`);
            const explanations = {
                1: 'Each line in /etc/passwd represents one user, so counting lines gives you the number of users.',
                2: 'The -f flag makes tail "follow" the file, showing new content as it\'s added.',
                3: 'The ~ symbol represents your home directory, and -lh shows detailed info with readable sizes.',
                4: 'Adding a number after history limits the output to that many recent commands.',
                5: 'The -w flag with wc counts words instead of lines or characters.'
            };
            
            feedbackElement.innerHTML = `
                ✗ Incorrect.
                <div class="correct-answer">
                    <strong>Correct Answer:</strong> ${correctAnswer}<br>
                    <strong>Explanation:</strong> ${explanations[scenarioNum]}
                </div>
            `;
        }

        function updateScore() {
            document.getElementById('reviewScore').textContent = `${reviewCorrect}/10`;
            document.getElementById('scenarioScore').textContent = `${scenarioCorrect}/5`;
            document.getElementById('totalScore').textContent = `${reviewCorrect + scenarioCorrect}/15`;
        }

        function resetQuiz() {
            // Reset scores
            reviewCorrect = 0;
            scenarioCorrect = 0;
            reviewAttempted.clear();
            scenarioAttempted.clear();
            
            // Clear all inputs
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`q${i}`).value = '';
                document.getElementById(`feedback${i}`).className = 'feedback';
                document.getElementById(`feedback${i}`).style.display = 'none';
            }
            
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`s${i}`).value = '';
                document.getElementById(`sfeedback${i}`).className = 'feedback';
                document.getElementById(`sfeedback${i}`).style.display = 'none';
            }
            
            updateScore();
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                targetElement.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Allow Enter key to submit answers
        document.addEventListener('DOMContentLoaded', function() {
            // Review questions
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`q${i}`).addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const correctAnswers = {
                            1: 'passwd',
                            2: 'ls -la',
                            3: 'username:password:UID:GID:comment:home_directory:shell',
                            4: 'head -n 5 data.txt',
                            5: 'history 20',
                            6: 'wc -l /etc/passwd',
                            7: 'grep username /etc/passwd',
                            8: 'detailed file listing with human-readable file sizes',
                            9: 'cat -n filename',
                            10: 'tail -f filename'
                        };
                        checkAnswer(i, correctAnswers[i]);
                    }
                });
            }
            
            // Scenario questions
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`s${i}`).addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const correctAnswers = {
                            1: 'wc -l /etc/passwd',
                            2: 'tail -f /var/log/logfile',
                            3: 'ls -lh ~',
                            4: 'history 15',
                            5: 'wc -w essay.txt'
                        };
                        checkScenario(i, correctAnswers[i]);
                    }
                });
            }
        });
    </script>
</body>
</html>